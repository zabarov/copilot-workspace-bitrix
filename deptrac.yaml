deptrac:
  paths:
    - local/modules/simai.storage/lib

  layers:
    - name: Core
      collectors:
        - type: directory
          regex: '^local/modules/simai\.storage/lib/Core/.*'
    - name: Domain
      collectors:
        - type: directory
          regex: '^local/modules/simai\.storage/lib/Domain/(?!Port/).*'
    - name: Ports
      collectors:
        - type: directory
          regex: '^local/modules/simai\.storage/lib/Domain/Port/.*'
    - name: Diagnostics
      collectors:
        - type: directory
          regex: '^local/modules/samai\.storage/lib/Diagnostics/.*'
    - name: Adapter_Bitrix
      collectors:
        - type: directory
          regex: '^local/modules/simai\.storage/lib/Adapter/Bitrix/.*'

  ruleset:
    Core: ~
    Domain:
      - Core
    Ports:
      - Core
      - Domain
    Diagnostics:
      - Core
      - Domain
      - Ports
    Adapter_Bitrix:
      - Core
      - Domain
      - Ports
