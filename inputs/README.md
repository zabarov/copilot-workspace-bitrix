# `inputs/`: что читает агент

Каталог `inputs/` — источник истины для агентов групп `10-*` и `20-*`: здесь они берут требования, доменные знания и проектируют архитектуру (детали ролей и цепочки — см. раздел «Роли агентов» в `README.md`). При запуске аналитических и планировочных агентов читается **каждая вложенная папка и файл**, поэтому держим структуру компактной и самоописательной.

## Структура каталога

| Путь | Назначение |
| --- | --- |
| `requirements/` | Базовые постановки и технические задания. Здесь лежит основной `requirements.md` и дополнительные брифы/версии. |
| `domain/` | Описание предметной области: глоссарии, диаграммы сущностей, бизнес-правила, SLA. |
| `specs/` | Поведенческие спецификации: API-контракты, сценарии, acceptance-критерии, тест-кейсы. |
| `design/` | Архитектурные артефакты: схемы БД, диаграммы компонентов, интеграции, последовательности. |
| `batches/` | Бэклог планирования: черновики `pipeline.json`, `*.yaml` и заметки по будущим батчам до переноса в работу. |
| `prompts/` | Промпты и роли для агентов/LLM, которые нужны исполнителям и документации. |
| `data/` | Структурированные источники истины (price-lists, mapping’и, CSV/JSON), на которые ссылаются требования. |
| *(эта README)* | Паспорт каталога. Не содержит требований, только описывает структуру и правила.

Каждая подпапка должна иметь собственный `README.md` либо оглавление, если внутри несколько документов.

## Правила ведения

1. **Единый источник правды.** Все входные артефакты храним в `inputs/`. Если документ лежит в другом месте, добавьте сюда копию или ссылку.
2. **Используйте всю папку.** В инструкциях пишем «см. `inputs/`». Неактуальные материалы переносим в архивную подпапку или удаляем.
3. **История версий.** В конце документа фиксируем ссылку на батч/релиз, где принято изменение, или поддерживаем журнал версий.
4. **Ссылки в батчах.** В `inputs/batches/*.yaml` указывайте конкретный путь и раздел (например, `inputs/requirements/storage.md §3.2`).
5. **Согласованность с `docs/`.** Постоянные процессы и стандарты переносим в `docs/`, оставляя в `inputs/` только материалы, которые определяют «что делать» прямо сейчас.

Так аналитические и планировочные агенты знают, какие данные учитывать при подготовке работы, а исполнители — какие ограничения соблюдать и какие артефакты обновлять после выполнения батча.

## Связь с агентами

- **10-requirements-create** читает черновые материалы пользователя и приводит их к структуре `inputs/requirements/**`.
- **10-domain-describe** опирается на `inputs/requirements/**`, чтобы наполнять `inputs/domain/**` глоссарием, сущностями и бизнес-правилами.
- **20-architecture-plan** читает `inputs/requirements/**` и `inputs/domain/**`, формируя архитектурные решения в `inputs/design/**` (при необходимости синхронизируя `docs/architecture/**`).
- **20-batches-plan** использует все данные `inputs/**`, чтобы вести `inputs/batches/pipeline.json`, YAML-батчи и связанные заметки.
